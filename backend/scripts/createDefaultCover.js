const fs = require('fs');
const path = require('path');

// Simple base64 encoded default cover image (gray rectangle with white book icon)
const base64Image = 'iVBORw0KGgoAAAANSUhEUgAAASwAAAGQCAYAAAAUdV17AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyNS0wNS0yNFQyMzozMzo0OSswNTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjUtMDUtMjRUMjM6MzQ6MzErMDU6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjUtMDUtMjRUMjM6MzQ6MzErMDU6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Y2Q0ZGQ1ZTQtOWZhNi00MzQ5LWJlMzAtYmJlYmYxZDQyMWE0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOmNkNGRkNWU0LTlmYTYtNDM0OS1iZTMwLWJiZWJmMWQ0MjFhNCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmNkNGRkNWU0LTlmYTYtNDM0OS1iZTMwLWJiZWJmMWQ0MjFhNCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6Y2Q0ZGQ1ZTQtOWZhNi00MzQ5LWJlMzAtYmJlYmYxZDQyMWE0IiBzdEV2dDp3aGVuPSIyMDI1LTA1LTI0VDIzOjMzOjQ5KzA1OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PphkzvsAAAhQSURBVHic7dTBCQAgEMDAa9s6zr9yvRD24Al0crrHzEyAg/UdAPxjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEBjWEB5EFRk5fE93vWkm7h97zgAAAABJRU5ErkJggg==';

// Create the public directory if it doesn't exist
const publicDir = path.join(__dirname, '../public');
if (!fs.existsSync(publicDir)) {
  fs.mkdirSync(publicDir, { recursive: true });
}

// Save the image
const outputPath = path.join(publicDir, 'default-cover.png');
const imageBuffer = Buffer.from(base64Image, 'base64');
fs.writeFileSync(outputPath, imageBuffer);

console.log(`Default cover image created at: ${outputPath}`);
